(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=(a(15),a(16),a(1)),i=a(2),m=a(4),l=a(3),d=a(5),u=(a(17),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},"\u6211\u7684\u8ba2\u5355")}}]),t}(n.Component)),h=a(8),_=(a(18),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).handleOpenEditArea=function(){a.setState({editing:!0})},a.handleCommentChange=function(e){a.setState({comment:e.target.value})},a.handleClickStars=function(e){console.log("stars:",e),a.setState({stars:e})},a.handleCancelComment=function(){a.setState({editing:!1,comment:a.props.comment||"",stars:a.props.stars||0})},a.handleSubmitComment=function(){var e=a.props.data.item_id,t=a.state,n=t.comment,r=t.stars;a.setState({editing:!1}),a.props.onSubmit(e,n,r)},a.state={editing:!1,stars:e.data.stars||0,comment:e.data.comment||""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.shop_title,a=e.title,n=e.coupon_start_fee,c=e.pict_url,o=e.isCommented;return r.a.createElement("div",null,r.a.createElement("div",{className:"orderItem"},r.a.createElement("div",{className:"orderItem_picContainer"},r.a.createElement("img",{className:"orderItem__pic",src:c,alt:"PIC"})),r.a.createElement("div",{className:"orderItem__content"},r.a.createElement("div",{className:"orderItem__product"},a),r.a.createElement("div",{className:"orderItem__shop"},t),r.a.createElement("div",{className:"orderItem__detail"},r.a.createElement("div",{className:"orderItem__price"},n),o?r.a.createElement("button",{className:"orderItem__btn orderItem__btn--gray"},"\u5df2\u8bc4\u4ef7"):r.a.createElement("button",{onClick:this.handleOpenEditArea,className:"orderItem__btn orderItem__btn--red"},"\u8bc4\u4ef7")))),this.state.editing?this.renderEditArea():null)}},{key:"renderEditArea",value:function(){return r.a.createElement("div",{className:"orderItem__commentContainer"},r.a.createElement("textarea",{onChange:this.handleCommentChange,value:this.state.comment,className:"orderItem__comment"}),this.renderStarts(),this.props.data.isCommented?null:r.a.createElement("button",{className:"orderItem__btn orderItem__btn--red",onClick:this.handleSubmitComment},"\u63d0\u4ea4"),r.a.createElement("button",{className:"orderItem__btn orderItem__btn--gray",onClick:this.handleCancelComment},"\u53d6\u6d88"))}},{key:"renderStarts",value:function(){var e=this,t=this.state.stars;return r.a.createElement("div",null,[1,2,3,4,5].map(function(a,n){var c=t>=a?"orderItem__star--light":"";return r.a.createElement("span",{key:n,className:"orderItem__star "+c,onClick:e.handleClickStars.bind(e,a)},"\u2605")}))}}]),t}(n.Component)),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e,t,n){var r=a.state.data.map(function(a){return a.item_id===e?Object(h.a)({},a,{comment:t,stars:n,isCommented:!0}):a});a.setState({data:r})},a.state={data:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./mock/orders.json").then(function(t){t.ok&&t.json().then(function(t){e.setState({data:t.data.result_list.map_data})}).catch(function(e){return console.error("\u8bf7\u6c42\u6570\u636e\u5931\u8d25a: ",e)})}).catch(function(e){return console.error("\u8bf7\u6c42\u6570\u636e\u5931\u8d25b: ",e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.data.map(function(t){return r.a.createElement(_,{key:t.item_id,data:t,onSubmit:e.handleSubmit})}))}}]),t}(n.Component);var b=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(u,null),r.a.createElement(p,null))};o.a.render(r.a.createElement(b,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.0eb04a72.chunk.js.map